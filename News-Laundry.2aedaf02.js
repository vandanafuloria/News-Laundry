const e=document.getElementById("loader");function t(){e.style.display="none"}const n=document.getElementById("lang"),l=document.querySelector("#search"),c="a7b56bc21d024766a297882099d87413",i=document.getElementById("primary-a"),r=document.getElementById("primary-title"),a=document.getElementById("primary-img"),o=document.getElementById("primary-desc"),s=document.getElementById("primary-by"),d=document.getElementById("primary-date"),u=document.getElementById("sec-a"),m=document.getElementById("sec-title"),g=document.getElementById("sec-img"),h=document.getElementById("sec-desc"),p=document.getElementById("secondry-by"),y=document.getElementById("secondry-date"),E=document.querySelector(".latest-news"),f=document.querySelector(".trending");function C(){let e=n.value,t=l.value;return t||(t="health"),fetch(`https://newsapi.org/v2/everything?q=${t} + india&language=${e}&sortBy=publishedAt&apiKey=${c}`).then(e=>e.json()).then(e=>{for(let t=1;t<4;t++){if(!e.articles[t].urlToImage)continue;let n=e.articles[t].url;n.includes("biztoc.com")||n.includes("english.khabarhub.com")||(i.href=e.articles[t-1].url,r.textContent=e.articles[t-1].title,a.src=e.articles[t-1].urlToImage,o.textContent=e.articles[t-1].description,s.textContent=e.articles[t-1].author,d.textContent=e.articles[t-1].publishedAt.split("T")[0],u.href=e.articles[t].url,m.textContent=e.articles[t].title,g.src=e.articles[t].urlToImage,h.textContent=e.articles[t].description,p.textContent=e.articles[t].author,y.textContent=e.articles[t].publishedAt.split("T")[0])}return e}).catch(e=>{console.log("error occured",e)})}function v(e){let i,r=n.value;return e&&e.target&&e.target.classList.contains("tag")&&(console.log("this is ",i=e.target.textContent),l.value=i),console.log(i=l.value),i||(i="india"),fetch(`https://newsapi.org/v2/everything?q=${i}&language=${r}&sortBy=publishedAt&apiKey=${c}`).then(e=>e.json()).then(e=>(console.log(e),!function(e){E.replaceChildren();for(let t=0;t<e.articles.length;t++){let n=function(){let e=document.createElement("div");e.classList.add("news");let t=document.createElement("img"),n=document.createElement("a"),l=document.createElement("h1");n.appendChild(l);let c=document.createElement("p");c.classList.add("m1");let i=document.createElement("div");i.classList.add("details");let r=document.createElement("p"),a=document.createElement("p");return i.append(r,a),e.append(t,n,c,i),e}();if(!e.articles[t].urlToImage||e.articles[t].url.includes("biztoc.com"))continue;let l=n.firstElementChild;if(l.src=e.articles[t].urlToImage,null==l.src)continue;let c=n.firstElementChild.nextSibling;c.href=e.articles[t].url,c.firstChild.textContent=e.articles[t].title;let i=n.firstChild.nextSibling.nextSibling;i.textContent=e.articles[t].description;let r=i.nextSibling,a=e.articles[t].publishedAt.split("T");r.firstChild.textContent=a[0],r.firstChild.nextSibling.textContent=e.articles[t].author,E.appendChild(n)}}(e),e)).catch(e=>{console.log(e)}).finally(()=>t())}function I(){let e=n.value;return fetch(`https://newsapi.org/v2/everything?q=india&language=${e}&sortBy=popularity&apiKey=${c}`).then(e=>e.json()).then(e=>(!function(e){f.replaceChildren();for(let t=0;t<8;t++){if(!e.articles[t].urlToImage||e.articles[t].url.includes("biztoc.com"))continue;let n=e.articles[t].urlToImage,l=e.articles[t].url,c=e.articles[t].title,i=e.articles[t].description,r=document.createElement("div");r.classList.add("trend");let a=document.createElement("img"),o=document.createElement("div");o.classList.add("details");let s=document.createElement("a"),d=document.createElement("h1"),u=document.createElement("p");o.append(s,u),s.appendChild(d),r.append(a,o),a.src=n,s.href=l,d.textContent=c,u.textContent=i,f.appendChild(r)}}(e),e)).catch(e=>{console.log(e)})}n.addEventListener("change",C),n.addEventListener("change",v),n.addEventListener("change",I),document.querySelector(".search-btn").addEventListener("click",function(){document.getElementById("keyword").textContent=l.value,v(),E.scrollIntoView({behavior:"smooth"})});const b=document.getElementsByClassName("tag");document.addEventListener("click",e=>{e.target.classList.contains("tag")&&(v(e),E.scrollIntoView({behavior:"smooth"}))}),console.log(b),e.style.display="flex",Promise.all([v(),C(),I()]).then(e=>{console.log(e)}).catch(e=>{console.log(e)}).finally(()=>t());
//# sourceMappingURL=News-Laundry.2aedaf02.js.map
